-- 使用データベース　jdbc:h2:tcp://localhost/~/GradeManagement；
-- H2 2.0.206;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'fe5e98281b923053' HASH 'dfbf84396c2e9d3bb261286bc91cc48be23f36bfcc1f4eebb5ba62ec9835cd14' ADMIN;         
-- userログイン、登録用のテーブル
CREATE CACHED TABLE "PUBLIC"."TEACHER"(
    "TEACHER_ID" CHARACTER VARYING(15) NOT NULL,
    "PASS" CHARACTER VARYING(20) NOT NULL,
    "MAIL" CHARACTER VARYING(100) NOT NULL,
    "NAME" CHARACTER VARYING(40) NOT NULL,
    "SUBJECT" CHARACTER VARYING(15) NOT NULL
);              
ALTER TABLE "PUBLIC"."TEACHER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D" PRIMARY KEY("TEACHER_ID");              
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.TEACHER; 

-- テスト成績管理のテーブル
CREATE CACHED TABLE "PUBLIC"."STUDENTSCORE"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 102) NOT NULL,
    "CLASS" CHARACTER VARYING(10) NOT NULL,
    "TEST_NAME" CHARACTER VARYING(50) NOT NULL,
    "STUDENTNAME" CHARACTER VARYING(40) NOT NULL,
    "JAPANESE" INTEGER NOT NULL,
    "ENGLISH" INTEGER NOT NULL,
    "MATH" INTEGER NOT NULL,
    "SCIENCE" INTEGER NOT NULL,
    "SOCIALSTUDIES" INTEGER NOT NULL,
    "ART" INTEGER,
    "MUSIC" INTEGER,
    "HEALTH" INTEGER,
    "INDUSTRIALART" INTEGER,
    "HOMEECONOMICS" INTEGER,
    "INFO" INTEGER,
    "SUMSCORE" INTEGER NOT NULL,
    "AVR" DOUBLE PRECISION NOT NULL,
    "RANK" CHARACTER VARYING(10) NOT NULL,
    "ATTENDANCE" BOOLEAN DEFAULT FALSE NOT NULL
); 
ALTER TABLE "PUBLIC"."STUDENTSCORE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID"); 
-- 8 +/- SELECT COUNT(*) FROM PUBLIC.STUDENTSCORE;            
         
